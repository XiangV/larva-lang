# **环境需求**

* 目前只支持在Linux（各种Linux发行版）和Darwin（如MacOS）平台进行编译
    * 目前的编译器实现依赖fork系统调用，在不支持fork的操作系统下使用会出错，例如在Windows下就不能直接用，可以装个Linux虚拟机来使用Larva
        * *Note*：后续如果有必要，可以想办法去掉对fork的依赖，进而支持Windows，但这个工作改动太大而且麻烦，不仅仅是fork的问题，无限期推迟……

    * 在其他\*nix平台编译Larva程序会生成目标Golang代码，但是编译可执行程序文件的步骤会报平台不支持，就目前的实现来说，
    理论上也可以直接支持Unix等类似平台的，只是我手头上没有那么多平台去一一测试，暂时在编译器写死了只识别Linux和Darwin

    * *Note*：我的开发是在MacOS或CentOS下，开发时会尽量避免发行版之间的差别（实际上由于用Python和Golang开发，也很少会有差别的地方）

* 编译器采用Python2编写，推荐采用python2.7.x执行

* 目标代码输出为Golang代码，需要go1.10或以上，推荐安装go的最新稳定版
    * *Note*：编译器在生成Golang代码后会立即调用go build构建可执行程序文件，但目标代码依然会保留下来，
    然而请不要在生成Golang代码后将其拷贝至另外的环境手动进行编译，因为版本、库环境都可能有不同，而且需要自己构建环境变量、build指令等，
    容易出问题

* Larva支持在代码中直接导入git站点的项目下的模块，编译器需要调用git命令，需要已安装好git工具，建议安装最新稳定版

* 需要保证必要的工作目录的存在，并遵循规范：
    * 用户库目录，可通过环境变量`LARVA_USR_LIB_DIR`指定，默认为`~/larva`（其中`~`指当前用户的HOME目录，\*nix惯例，下同）

    * 临时工作目录，可通过环境变量`LARVA_TMP_DIR`指定，默认为`~/tmp`

    * 标准库目录、用户库目录和临时工作目录两两之间不能相同或为包含关系

    * *Note*：这些目录的具体含义说明见‘2.2.程序结构’和‘2.3.编译执行’

* 具体到Larva的程序组成，有一些对库目录、模块名的限制，具体说明放在‘2.2.程序结构’

void run_case(Case case)
{
    err_print("%-40s ".(case.title()));
    String msg;
    var c = call_and_catch<Fail>([]{
        public void call()
        {
            msg = case.run();
            if (msg === nil)
            {
                msg = "";
            }
        }
    });
    if (c === nil)
    {
        err_println("[%s] %s".(color_text(TEXT_COLOR_GREEN, "OK"), msg));
    }
    else
    {
        err_println("[%s] %s".(color_text(TEXT_COLOR_RED, "FAIL"), c.throwed().str()));
    }
}

public run_cases(Iter<Case> case_iter)
{
    for (var case: case_iter)
    {
        run_case(case);
    }
}

void run_case(Case case)
{
    err_print("%-60s ".(case.title()));
    String msg;
    var c = call_and_catch<Fail>([]{
        public void call()
        {
            msg = case.run();
            if (msg === nil)
            {
                msg = "";
            }
        }
    });
    if (c === nil)
    {
        err_println("%-20s %s".("[%s]".(color_text(TEXT_COLOR_GREEN, "OK")), msg));
    }
    else
    {
        err_println("%-20s %s".("[%s]".(color_text(TEXT_COLOR_RED, "FAIL")), color_text(TEXT_COLOR_RED, c.throwed().str())));
    }
}

public void run_cases(Iter<Case> case_iter)
{
    foreach (var case: case_iter)
    {
        run_case(case);
    }
}
